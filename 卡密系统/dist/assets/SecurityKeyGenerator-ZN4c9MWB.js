import{_ as P,r as g,c as x,o as R,a as l,d as n,f as t,F as L,g as T,A as V,e as d,w as k,h as F,t as i,b as S,u as r,aH as H,i as b,n as M,R as A,C as U,T as Q,aI as u}from"./index-ihp2IIuf.js";const W={class:"security-key-generator"},X={class:"background-decoration"},Y={class:"floating-particles"},j={class:"enterprise-header"},q={class:"header-container"},tt={class:"header-actions"},st={class:"main-content"},et={class:"security-hero"},at={class:"hero-content"},it={class:"security-stats"},ot={class:"stat-item"},lt={class:"stat-number"},nt={class:"stat-item"},dt={class:"stat-number"},rt={class:"stat-item"},ct={class:"stat-number"},vt={class:"key-generator-section"},ut={class:"generator-container"},ht={class:"generator-controls"},bt={class:"key-settings"},pt={class:"setting-item"},yt={class:"setting-item"},gt=["disabled"],mt={key:0,class:"button-content"},_t={key:1,class:"button-content"},ft={key:0,class:"key-display"},At={class:"key-container"},wt={class:"key-header"},Ct={class:"key-status"},xt={class:"key-content"},Vt={class:"key-value"},kt={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},Mt={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},Lt={class:"key-info"},Tt={class:"info-item"},St={class:"value"},Ht={class:"info-item"},Kt={class:"value"},Bt={class:"info-item"},Dt={class:"value"},Nt={class:"key-history-section"},$t={class:"history-list"},It={key:0,class:"empty-state"},Gt={key:1,class:"history-cards"},Zt={class:"card-header"},zt={class:"key-id"},Et={class:"card-content"},Ot={class:"key-preview"},Jt={class:"key-details"},Pt={class:"detail-row"},Rt={class:"value"},Ft={class:"detail-row"},Ut={class:"value"},Qt={key:0,class:"detail-row"},Wt={class:"value"},Xt={__name:"SecurityKeyGenerator",setup(Yt){U();const m=g(!1),c=g(null),p=g(!1),_=g(30),w=g(64),y=g([]),K=x(()=>y.value.length),B=x(()=>{const e=new Date().getTime();return y.value.filter(s=>s.isActive&&e<=s.expirationTime).length}),D=x(()=>y.value.filter(e=>!e.isActive).length),N=e=>{const s=Math.random()*4+2,o=Math.random()*15+10,a=Math.random()*5,v=Math.random()*100,h=Math.random()*100;return{width:`${s}px`,height:`${s}px`,left:`${v}%`,top:`${h}%`,animationDuration:`${o}s`,animationDelay:`${a}s`}},$=async()=>{m.value=!0;try{await new Promise(J=>setTimeout(J,2e3));const e=`SK${Date.now().toString().slice(-8)}`,s=I(w.value),o=new Date().getTime(),a=o+_.value*60*1e3,v={id:e,key:s,createdTime:o,expirationTime:a,isActive:!0,usedTime:null,usedBy:null},h=JSON.parse(localStorage.getItem("security_keys")||"[]");h.push(v),localStorage.setItem("security_keys",JSON.stringify(h)),c.value=v,p.value=!1,C(),A.success("安全密钥生成成功！")}catch{A.error("密钥生成失败，请重试")}finally{m.value=!1}},I=e=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let o="";for(let a=0;a<e;a++)o+=s.charAt(Math.floor(Math.random()*s.length));return o},G=async()=>{if(c.value)try{await navigator.clipboard.writeText(c.value.key),p.value=!0,A.success("密钥已复制到剪贴板"),setTimeout(()=>{p.value=!1},3e3)}catch{A.error("复制失败，请手动复制")}},C=()=>{const e=JSON.parse(localStorage.getItem("security_keys")||"[]");y.value=e.sort((s,o)=>o.createdTime-s.createdTime)},f=e=>new Date(e).toLocaleString("zh-CN"),Z=e=>{const s=new Date(e),a=e-new Date().getTime();if(a<=0)return"已过期";const v=Math.floor(a/(1e3*60)),h=Math.floor(v/60);return h>0?`${h}小时${v%60}分钟后 (${s.toLocaleString("zh-CN")})`:`${v}分钟后 (${s.toLocaleString("zh-CN")})`},z=e=>{const s=new Date().getTime();return e.isActive?s>e.expirationTime?"expired":"active":"used"},E=e=>{const s=new Date().getTime();return e.isActive?s>e.expirationTime?"expired":"active":"used"},O=e=>{const s=new Date().getTime();return e.isActive?s>e.expirationTime?"已过期":"有效":"已使用"};return R(()=>{C()}),(e,s)=>{const o=F("router-link");return n(),l("div",W,[t("div",X,[s[2]||(s[2]=t("div",{class:"security-shape shape-1"},null,-1)),s[3]||(s[3]=t("div",{class:"security-shape shape-2"},null,-1)),s[4]||(s[4]=t("div",{class:"security-shape shape-3"},null,-1)),t("div",Y,[(n(),l(L,null,T(15,a=>t("div",{class:"particle",key:a,style:Q(N())},null,4)),64))])]),t("div",j,[t("div",q,[s[7]||(s[7]=V('<div class="logo-section" data-v-4b397b98><div class="security-logo" data-v-4b397b98><svg width="40" height="40" viewBox="0 0 48 48" fill="none" data-v-4b397b98><defs data-v-4b397b98><linearGradient id="securityGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-4b397b98><stop offset="0%" style="stop-color:#ef4444;" data-v-4b397b98></stop><stop offset="50%" style="stop-color:#dc2626;" data-v-4b397b98></stop><stop offset="100%" style="stop-color:#b91c1c;" data-v-4b397b98></stop></linearGradient></defs><path d="M24 4L8 10V22C8 32 16 40.5 24 42C32 40.5 40 32 40 22V10L24 4Z" fill="url(#securityGradient)" data-v-4b397b98></path><path d="M24 8L12 12V22C12 29.5 18 36 24 38C30 36 36 29.5 36 22V12L24 8Z" fill="rgba(255,255,255,0.2)" data-v-4b397b98></path><circle cx="24" cy="24" r="3" fill="white" data-v-4b397b98></circle></svg></div><div class="logo-text" data-v-4b397b98><h1 class="company-name" data-v-4b397b98>SecureKey</h1><p class="company-tagline" data-v-4b397b98>Admin Security Key Generator</p></div></div>',1)),t("div",tt,[d(o,{to:"/login",class:"nav-link"},{default:k(()=>s[5]||(s[5]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})],-1),b(" 返回登录 ",-1)])),_:1,__:[5]}),s[6]||(s[6]=t("div",{class:"security-status"},[t("div",{class:"status-indicator active"}),t("span",null,"安全密钥系统")],-1))])])]),t("div",st,[t("div",et,[t("div",at,[s[13]||(s[13]=V('<div class="security-badge" data-v-4b397b98><div class="badge-icon" data-v-4b397b98><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-4b397b98><path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.4 16,13V16C16,16.6 15.6,17 15,17H9C8.4,17 8,16.6 8,16V13C8,12.4 8.4,11.5 9,11.5V10C9,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.2,8.7 10.2,10V11.5H13.8V10C13.8,8.7 12.8,8.2 12,8.2Z" data-v-4b397b98></path></svg></div><span data-v-4b397b98>High Security</span></div><h1 class="hero-title" data-v-4b397b98> 管理员安全密钥 <span class="gradient-text" data-v-4b397b98>生成器</span></h1><p class="hero-subtitle" data-v-4b397b98> 为管理员账号生成一次性安全密钥，用于IP变更时的身份验证 <br data-v-4b397b98> 每个密钥仅可使用一次，确保系统最高安全性 </p>',3)),t("div",it,[t("div",ot,[t("div",lt,i(K.value),1),s[8]||(s[8]=t("div",{class:"stat-label"},"已生成密钥",-1))]),s[11]||(s[11]=t("div",{class:"stat-divider"},null,-1)),t("div",nt,[t("div",dt,i(B.value),1),s[9]||(s[9]=t("div",{class:"stat-label"},"有效密钥",-1))]),s[12]||(s[12]=t("div",{class:"stat-divider"},null,-1)),t("div",rt,[t("div",ct,i(D.value),1),s[10]||(s[10]=t("div",{class:"stat-label"},"已使用",-1))])])])]),t("div",vt,[t("div",ut,[s[26]||(s[26]=V('<div class="generator-header" data-v-4b397b98><div class="header-icon" data-v-4b397b98><svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor" data-v-4b397b98><path d="M7,14A3,3 0 0,1 10,17A3,3 0 0,1 7,20A3,3 0 0,1 4,17A3,3 0 0,1 7,14M7,18A1,1 0 0,0 8,17A1,1 0 0,0 7,16A1,1 0 0,0 6,17A1,1 0 0,0 7,18M16,6V10H14V6H16M18,11V7A2,2 0 0,0 16,5H14A2,2 0 0,0 12,7V11A1,1 0 0,0 11,12V16A1,1 0 0,0 12,17H18A1,1 0 0,0 19,16V12A1,1 0 0,0 18,11Z" data-v-4b397b98></path></svg></div><div class="header-content" data-v-4b397b98><h2 data-v-4b397b98>生成安全密钥</h2><p data-v-4b397b98>点击下方按钮生成新的管理员安全密钥</p></div></div>',1)),t("div",ht,[t("div",bt,[t("div",pt,[s[14]||(s[14]=t("label",null,"密钥有效期：",-1)),d(r(H),{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=a=>_.value=a),class:"expiration-select"},{default:k(()=>[d(r(u),{label:"5分钟",value:5}),d(r(u),{label:"15分钟",value:15}),d(r(u),{label:"30分钟",value:30}),d(r(u),{label:"1小时",value:60}),d(r(u),{label:"2小时",value:120})]),_:1},8,["modelValue"])]),t("div",yt,[s[15]||(s[15]=t("label",null,"密钥强度：",-1)),d(r(H),{modelValue:w.value,"onUpdate:modelValue":s[1]||(s[1]=a=>w.value=a),class:"strength-select"},{default:k(()=>[d(r(u),{label:"标准 (32位)",value:32}),d(r(u),{label:"高强度 (64位)",value:64}),d(r(u),{label:"超高强度 (128位)",value:128})]),_:1},8,["modelValue"])])]),t("button",{class:"generate-button",onClick:$,disabled:m.value},[m.value?(n(),l("span",_t,s[17]||(s[17]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",class:"loading-icon"},[t("path",{d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"})],-1),b(" 生成中... ",-1)]))):(n(),l("span",mt,s[16]||(s[16]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9V17"})],-1),b(" 生成安全密钥 ",-1)])))],8,gt)]),c.value?(n(),l("div",ft,[t("div",At,[t("div",wt,[s[19]||(s[19]=t("h3",null,"🔐 安全密钥已生成",-1)),t("div",Ct,[s[18]||(s[18]=t("div",{class:"status-dot active"},null,-1)),t("span",null,"有效期至: "+i(Z(c.value.expirationTime)),1)])]),t("div",xt,[t("div",Vt,[t("code",null,i(c.value.key),1),t("button",{class:M(["copy-button",{copied:p.value}]),onClick:G},[p.value?(n(),l("svg",Mt,s[21]||(s[21]=[t("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},null,-1)]))):(n(),l("svg",kt,s[20]||(s[20]=[t("path",{d:"M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3"},null,-1)]))),b(" "+i(p.value?"已复制":"复制"),1)],2)]),t("div",Lt,[t("div",Tt,[s[22]||(s[22]=t("span",{class:"label"},"密钥ID:",-1)),t("span",St,i(c.value.id),1)]),t("div",Ht,[s[23]||(s[23]=t("span",{class:"label"},"生成时间:",-1)),t("span",Kt,i(f(c.value.createdTime)),1)]),t("div",Bt,[s[24]||(s[24]=t("span",{class:"label"},"有效期:",-1)),t("span",Dt,i(_.value)+" 分钟",1)])])]),s[25]||(s[25]=t("div",{class:"key-warning"},[t("div",{class:"warning-icon"},"⚠️"),t("div",{class:"warning-text"},[t("strong",null,"重要提示："),b("请立即复制并保存此密钥，页面刷新后将无法再次查看。此密钥仅可使用一次。 ")])],-1))])])):S("",!0)])]),t("div",Nt,[t("div",{class:"history-header"},[s[28]||(s[28]=t("h2",null,[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3"})]),b(" 密钥历史记录 ")],-1)),t("button",{class:"refresh-button",onClick:C},s[27]||(s[27]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"})],-1),b(" 刷新 ",-1)]))]),t("div",$t,[y.value.length===0?(n(),l("div",It,s[29]||(s[29]=[t("div",{class:"empty-icon"},[t("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"})])],-1),t("p",null,"暂无密钥历史记录",-1)]))):(n(),l("div",Gt,[(n(!0),l(L,null,T(y.value,a=>(n(),l("div",{key:a.id,class:M(["history-card",z(a)])},[t("div",Zt,[t("div",zt,"ID: "+i(a.id.substring(0,8))+"...",1),t("div",{class:M(["key-status-badge",E(a)])},i(O(a)),3)]),t("div",Et,[t("div",Ot,[t("code",null,i(a.key.substring(0,16))+"...",1)]),t("div",Jt,[t("div",Pt,[s[30]||(s[30]=t("span",{class:"label"},"生成时间:",-1)),t("span",Rt,i(f(a.createdTime)),1)]),t("div",Ft,[s[31]||(s[31]=t("span",{class:"label"},"有效期至:",-1)),t("span",Ut,i(f(a.expirationTime)),1)]),a.usedTime?(n(),l("div",Qt,[s[32]||(s[32]=t("span",{class:"label"},"使用时间:",-1)),t("span",Wt,i(f(a.usedTime)),1)])):S("",!0)])])],2))),128))]))])])])])}}},qt=P(Xt,[["__scopeId","data-v-4b397b98"]]);export{qt as default};
